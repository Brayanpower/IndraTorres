{"ast":null,"code":"import { __decorate } from \"tslib\";\n// estado.component.ts\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let EstadoComponent = class EstadoComponent {\n  constructor(estadoService, fb, toastrService) {\n    this.estadoService = estadoService;\n    this.fb = fb;\n    this.toastrService = toastrService;\n    this.estados = []; // Cambia el tipo de datos aquí\n    this.paises = [];\n    this.datosPaises = [];\n    this.ciudades = [];\n    this.datosCiudad = [];\n    this.editingEstadoId = null; // Inicializado como null\n    this.estadoForm = this.fb.group({\n      _id: [null],\n      nombre: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.cargarEstados();\n  }\n  cargarEstados() {\n    this.estadoService.getDatosP().subscribe(data => {\n      this.estados = data;\n      console.log('Estados cargados:', this.estados);\n    }, error => {\n      console.error('Error al cargar estados:', error);\n    });\n  }\n  crearEstado(event) {\n    event.preventDefault();\n    if (this.estadoForm.valid) {\n      const nuevoEstado = {\n        nombre: this.estadoForm.value.nombre,\n        pais: this.estadoForm.value.pais,\n        estado: this.estadoForm.value.pais\n      };\n      this.estadoService.addDatosP(nuevoEstado).subscribe(data => {\n        console.log('Estado creado:', data);\n        this.estadoForm.reset();\n        this.cargarEstados();\n        this.toastrService.success('Estado creado correctamente', 'Aviso');\n      }, error => {\n        console.error('Error al crear estado:', error);\n        this.toastrService.error('Error al crear el estado', 'Error');\n      });\n    } else {\n      console.error('Formulario no válido. Por favor, complete todos los campos requeridos.');\n      this.toastrService.warning('Formulario no válido. Por favor, complete todos los campos requeridos.', 'Advertencia');\n    }\n  }\n  eliminarEstado(id) {\n    if (id) {\n      this.estadoService.deleteDatosP(id).subscribe(data => {\n        console.log('Estado eliminado:', data);\n        this.cargarEstados();\n        this.toastrService.success('Estado eliminado correctamente', 'Aviso');\n      }, error => {\n        console.error('Error al eliminar estado:', error);\n        this.toastrService.error('Error al eliminar el estado', 'Error');\n      });\n    }\n  }\n  editarEstado(estado) {\n    this.estadoForm.patchValue(estado);\n  }\n  actualizarEstado() {\n    if (this.estadoForm.valid) {\n      this.estadoService.updateDatosP(this.estadoForm.value).subscribe(() => {\n        this.cargarEstados();\n        this.estadoForm.reset();\n        this.toastrService.success('Estado actualizado correctamente', 'Aviso');\n      }, error => {\n        console.error('Error al actualizar estado:', error);\n        this.toastrService.error('Error al actualizar el estado', 'Error');\n      });\n    }\n  }\n};\nEstadoComponent = __decorate([Component({\n  selector: 'app-estado',\n  templateUrl: './estado.component.html',\n  styleUrls: ['./estado.component.css']\n})], EstadoComponent);","map":{"version":3,"names":["Component","Validators","EstadoComponent","constructor","estadoService","fb","toastrService","estados","paises","datosPaises","ciudades","datosCiudad","editingEstadoId","estadoForm","group","_id","nombre","required","ngOnInit","cargarEstados","getDatosP","subscribe","data","console","log","error","crearEstado","event","preventDefault","valid","nuevoEstado","value","pais","estado","addDatosP","reset","success","warning","eliminarEstado","id","deleteDatosP","editarEstado","patchValue","actualizarEstado","updateDatosP","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Brayan Mendiola\\Documents\\GitHub\\IndraTorres\\src\\client\\src\\app\\components\\estado\\estado.component.ts"],"sourcesContent":["// estado.component.ts\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { DatosPModel, EstadoModel } from '../../models/datosPModel';\r\nimport { CiudadService } from '../../services/ciudad.service';\r\n\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-estado',\r\n  templateUrl: './estado.component.html',\r\n  styleUrls: ['./estado.component.css']\r\n})\r\nexport class EstadoComponent implements OnInit {\r\n  estados: EstadoModel[] = []; // Cambia el tipo de datos aquí\r\n  paises: DatosPModel[] = [];\r\n  datosPaises: DatosPModel[] = [];\r\n  ciudades: EstadoModel[] = [];\r\n  datosCiudad: DatosPModel[] = [];\r\n  estadoForm: FormGroup;\r\n  editingEstadoId: string | null = null; // Inicializado como null\r\n\r\n  constructor(\r\n    private estadoService: CiudadService,\r\n    private fb: FormBuilder,\r\n    private toastrService: ToastrService\r\n  ) {\r\n    this.estadoForm = this.fb.group({\r\n      _id: [null],\r\n      nombre: ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.cargarEstados();\r\n  }\r\n\r\n  cargarEstados() {\r\n    this.estadoService.getDatosP().subscribe(\r\n      data => {\r\n        this.estados = data;\r\n        console.log('Estados cargados:', this.estados);\r\n      },\r\n      error => {\r\n        console.error('Error al cargar estados:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  crearEstado(event: Event) {\r\n    event.preventDefault();\r\n\r\n    if (this.estadoForm.valid) {\r\n      const nuevoEstado: EstadoModel = {\r\n        nombre: this.estadoForm.value.nombre,\r\n        pais: this.estadoForm.value.pais,\r\n        estado: this.estadoForm.value.pais,\r\n      };\r\n\r\n      this.estadoService.addDatosP(nuevoEstado).subscribe(\r\n        data => {\r\n          console.log('Estado creado:', data);\r\n          this.estadoForm.reset();\r\n          this.cargarEstados();\r\n          this.toastrService.success('Estado creado correctamente', 'Aviso');\r\n        },\r\n        error => {\r\n          console.error('Error al crear estado:', error);\r\n          this.toastrService.error('Error al crear el estado', 'Error');\r\n        }\r\n      );\r\n    } else {\r\n      console.error('Formulario no válido. Por favor, complete todos los campos requeridos.');\r\n      this.toastrService.warning('Formulario no válido. Por favor, complete todos los campos requeridos.', 'Advertencia');\r\n    }\r\n  }\r\n\r\n  eliminarEstado(id: string | undefined) {\r\n    if (id) {\r\n      this.estadoService.deleteDatosP(id).subscribe(\r\n        data => {\r\n          console.log('Estado eliminado:', data);\r\n          this.cargarEstados();\r\n          this.toastrService.success('Estado eliminado correctamente', 'Aviso');\r\n        },\r\n        error => {\r\n          console.error('Error al eliminar estado:', error);\r\n          this.toastrService.error('Error al eliminar el estado', 'Error');\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  editarEstado(estado: EstadoModel) {\r\n    this.estadoForm.patchValue(estado);\r\n  }\r\n\r\n  actualizarEstado() {\r\n    if (this.estadoForm.valid) {\r\n      this.estadoService.updateDatosP(this.estadoForm.value).subscribe(\r\n        () => {\r\n          this.cargarEstados();\r\n          this.estadoForm.reset();\r\n          this.toastrService.success('Estado actualizado correctamente', 'Aviso');\r\n        },\r\n        error => {\r\n          console.error('Error al actualizar estado:', error);\r\n          this.toastrService.error('Error al actualizar el estado', 'Error');\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}